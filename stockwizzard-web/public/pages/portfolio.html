<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../css/portfolio.css">
        <link rel="icon" type="image/x-icon" sizes="32x32" href="../../ressources/candles-regular-24.ico">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">    
        <title>Portfolio</title>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="../js/StockApp.js"></script>
    </head>
    <body onload="disableGoBackFunction(); showStockPriceViaEvent(); displayAllDatabaseData(); getAllPortfolioStocks();"></body>
        <header>
            <a id="logo">
                <img src="../../ressources/Logo.png">
            </a>

            <nav class="navbar">
                <a href="home.html" style="--i:1;">Home </a>
                <a href="tracker.html" style="--i:2;">Stock tracker</a>
                <a href="portfolio.html"  style="--i:3;"class="active">Portfolio</a>
                <a href="profile.html" style="--i:4;">Profile</a>
            </nav>
            <div id="Login">
                <a href="vorHome.html" style="--i:1;" class="logintxt" onclick="logout()">Logout</a>
                <a href="vorHome.html" style="--i:2;" onclick="logout()"><i class='bx bx-log-out-circle'></i></a>
            </div>
        </header>
        <br></br>
        <main>
            <section class="buy-sell">
                <h3>Remaining budget</h3>
                <div class="remaining-budget"></div>
                <h2>Stock Orders</h2>
                <div class="d-flex align-items-center mb-3">
                    <div class="me-2">
                        <label for="stock-name" class="form-label">Stock name:</label>
                        <input type="text" id="stock-name" placeholder="AAPL" class="form-control" oninput="checkFields()">
                    </div>
                    <div class="price-container"> <br/>
                        <div id="price-display"></div>
                    </div>
                </div>
                <!--<button id="show-price" class="btn btn-primary mt-2" onclick="getStockPrice()">Show current price</button>-->
                <span id="current-price"></span>
                <div class="mb-3">
                    <label for="quantity" id="quantity-label" class="form-label">Quantity in $:</label>
                    <input type="number" id="quantity" placeholder="100" class="form-control" oninput="checkFields()">
                </div>
                <div class="mb-4">
                    <button id="toggle-label" class="btn btn-secondary mt-2" onclick="toggleLabel()">Switch to Stocks</button>
                </div>
                <button id="buy-stock" class="btn btn-success mt-2" onclick="checkBuyStock()">Buy stock</button>
                <button id="sell-stock" class="btn btn-danger mt-2" onclick ="checkSellStock()">Sell stock</button>
            </section>
            <!-- sollte id sein -->
            <section id="portfolio">
                <h2>Portfolio</h2>
                <!-- Sollte beides eine id sein -->
                <div id="portfolio-value"><span id ="portfolio-percentage" class="percentage positive">+5%</span></div>
                <div class="stock-list">
                </div>
            </section>
            <!-- sollte id sein -->
            <section class="transaction-history">
                <h2>Transaction History</h2>
            </section>
        </main>
    </body>
</html>